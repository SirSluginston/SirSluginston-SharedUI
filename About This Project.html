<!--
    SharedUI About This Project Page
    - Modular, reusable, and future-proof (like a slug in a suit)
    - All content and branding injected/configured via JS and projects.json
    - If you break this, you owe SirSluginston a coffee
-->
<!DOCTYPE html>
<html lang="en">
<head>
        <script>
    // Insert ?project=SharedUI in the URL if missing, without reloading
        (function() {
            var params = new URLSearchParams(window.location.search);
            if (!params.has('project')) {
                params.set('project', 'SharedUI');
                var newUrl = window.location.pathname + '?' + params.toString();
                window.history.replaceState({}, '', newUrl);
            }
        })();
        </script>
    <!-- SharedUI core styles and config: don't touch unless you like chaos -->
    <link rel="stylesheet" href="SharedUI-border.css">
    <!-- All config is now loaded from projects.json. -->
    <link rel="stylesheet" href="variables.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About This Project</title>
    <!-- SharedUI component styles: keep it snazzy -->
    <link rel="stylesheet" href="Header/header.css">
    <link rel="stylesheet" href="Navbar/navbar.css">
    <link rel="stylesheet" href="Body/body.css">
    <link rel="stylesheet" href="Footer/footer.css">
    <link rel="stylesheet" href="ThemeToggle/theme-toggle.css">
    <link rel="stylesheet" href="Dropdown/dropdown.css">
    <link rel="stylesheet" href="Modals/modal.css">
    <link rel="stylesheet" href="Hero/hero.css">
    <script src="SharedUI/sharedui.js"></script>
                        <script>
        document.addEventListener('DOMContentLoaded', function() {
            (async function() {
                const { loadConfig, injectHeader, injectFooter, applyBranding } = window.SharedUILib;
                const projects = await window.SharedUILib.getProjects();
                // Prefer ?project=slug, else match by page href, else fallback
                const params = new URLSearchParams(window.location.search);
                const slug = params.get('project');
                let config = projects[0];
                if (slug) {
                    const bySlug = projects.find(p => p.slug === slug);
                    if (bySlug) config = bySlug;
                } else {
                    const pageHref = decodeURIComponent(window.location.pathname.split('/').pop() || 'About This Project.html').toLowerCase();
                    const byPage = projects.find(p => Array.isArray(p.pages) && p.pages.some(pg => decodeURIComponent(pg.href || '').toLowerCase() === pageHref));
                    if (byPage) config = byPage;
                }
                window.SharedUIConfig = config;
                applyBranding(config);
                injectHeader(config);
                injectFooter(config);
                var bodyTitleEl = document.getElementById('shared-body-title');
                var pageHref = decodeURIComponent(window.location.pathname.split('/').pop() || 'About This Project.html').toLowerCase();
                var pageConfig = (config.pages || []).find(p => decodeURIComponent(p.href || '').toLowerCase() === pageHref);
                if (bodyTitleEl && pageConfig && pageConfig.pageTitle) {
                    bodyTitleEl.textContent = pageConfig.pageTitle;
                }
                var bodyTaglineEl = document.getElementById('shared-body-tagline');
                if (bodyTaglineEl && pageConfig && pageConfig.pageTagline) {
                    bodyTaglineEl.textContent = pageConfig.pageTagline;
                }
                // Now load the navbar script so it can use SharedUIConfig
                var navbarScript = document.createElement('script');
                navbarScript.src = 'Navbar/navbar.js';
                navbarScript.onload = initDropdownsAfterNavbar;
                document.body.appendChild(navbarScript);
            })();
        });
                        </script>
<script src="ThemeToggle/theme-toggle.js"></script>
<script src="Header/header.js"></script>
<script src="Dropdown/dropdown.js"></script>
<script src="Modals/modal.js"></script>
<script>
// Ensure dropdowns are initialized after navbar is injected
function initDropdownsAfterNavbar() {
  if (window.SharedUIDropdown) SharedUIDropdown.initAll();
  if (window.SharedUIModal) SharedUIModal.initAll();
}
</script>
</head>
<body>
    <div class="sharedui-outer-border">
    <!-- SharedUI Header: top hat required -->
        <div id="header-container"></div>
    <!-- SharedUI Navbar: navigation for the truly lost -->
        <div id="site-navbar"></div>
    <!-- SharedUI Hero: page title and tagline -->
        <div id="shared-hero-container"></div>
    <!-- SharedUI Body: where the magic (and stories) happen -->
                        <div id="body-container">
                            <div class="shared-body">
                                <div class="body-content" id="shared-body-content">
                                    <p>
                                        Designed for flexibility, SharedUI provides a suite of reusable, themeable interface elements—headers, navbars, footers, toggles, and more. Each component is built to be easily integrated, customized, and extended, so new projects can launch quickly with a consistent, polished user experience.
                                    </p>
                                    <p>
                                        Whether you’re building a new venture or evolving an existing one, SharedUI ensures every project starts with a strong, unified design system—while still leaving plenty of room for your own creative trail.
                                    </p>
                                    <p>
                                        Replace this section with your project's unique story and details.
                                    </p>
                                </div>
                            </div>
                        </div>
    <!-- SharedUI Footer: the end, but also the beginning -->
        <div id="footer-container"></div>
    </div>
    <!-- SharedUI JS: theme toggle, header, navbar, account injection -->
        </div>
        <!-- SharedUI JS: theme toggle, header, navbar, account injection -->
</body>
<script src="Hero/hero.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', async function() {
        // Load config and inject hero
        const projects = await window.SharedUILib.getProjects();
        // Use the config for the current page (by slug or fallback)
        // Try to get ?project=slug from URL, else fallback to 'sharedui' or first
        const params = new URLSearchParams(window.location.search);
        const slug = params.get('project') || 'sharedui';
        const config = projects.find(p => p.slug === slug) || projects[0];
        window.SharedUIConfig = config;
        // Find the page config for this page
        const pageConfig = (config.pages || []).find(p => p.href && p.href.toLowerCase() === 'about this project.html');
        // Use the projectTitle for the hero title if available
        const title = (config.projectTitle ? `About ${config.projectTitle}` : (pageConfig && pageConfig.pageTitle) || 'About This Project');
        const tagline = (pageConfig && pageConfig.pageTagline) || '';
        SharedUIHero.inject(document.getElementById('shared-hero-container'), title, tagline);
    });
</script>
</html>
